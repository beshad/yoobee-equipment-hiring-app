<md-content class="md-padding container" layout="row" layout-wrap>
    <md-card>
        <md-card-header><h2>Devices</h2></md-card-header>
        <md-card-content class="devices">
            <v-accordion class="vAccordion--default" multiple control="accordion">
                <v-pane id="{{ category.id }}" ng-repeat="category in categories" expanded="pane.isExpanded">
                    <v-pane-header>
                        {{ category.category_name }}
                    </v-pane-header>
                    <v-pane-content>
                        <v-accordion>
                            <v-pane ng-repeat="device in devices">
                                <v-pane-header ng-show="device.category_id == category.category_id">
                                    <md-checkbox class="md-warn" ng-checked="exists(device.device_id, selected)"
                                                 ng-click="toggle(device.device_id , selected)"></md-checkbox>
                                    {{ device.device_id }}
                                </v-pane-header>
                                <v-pane-content>
                                    <md-list>
                                        <md-list-item>
                                            <div>
                                                <img ng-src="../assets/uploads/devices/{{ device.image_url}}"
                                                     class="md-avatar" style="height: 60px; width:60px"/>
                                            </div>
                                            <div class="md-list-item-text" layout="column">
                                                <p> {{ device.description}} </p>
                                            </div>
                                        </md-list-item>
                                    </md-list>
                                </v-pane-content>
                            </v-pane>
                            </v-accordselected
                    </v-pane-content>
                </v-pane>
            </v-accordion>
        </md-card-content>
        <md-card-content>
            <div layout="row" layout-align="end end">
                <md-button class="md-icon-button md-primary" ui-sref="calendar" ng-disabled="isAnyDeviceSelected">
                    <md-icon md-svg-src="../app/icons/ic_arrow_forward_black_48px.svg"
                             ng-click="addDevices(selected);"></md-icon>
                </md-button>
            </div>
        </md-card-content>
    </md-card>
</md-content>